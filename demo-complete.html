<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ WILDBOT Complete Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .demo-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        
        .demo-card h3 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #4a5568;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .demo-card p {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .demo-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .demo-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: transform 0.2s;
            display: inline-block;
        }
        
        .demo-btn:hover {
            transform: translateY(-2px);
        }
        
        .demo-btn.secondary {
            background: #718096;
        }
        
        .demo-btn.success {
            background: #48bb78;
        }
        
        .status-bar {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .status-item {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }
        
        .status-item.online {
            border-color: #48bb78;
            background: #f0fff4;
        }
        
        .status-item.offline {
            border-color: #f56565;
            background: #fed7d7;
        }
        
        .status-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .status-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .feature-card {
            background: rgba(255,255,255,0.95);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }
        
        .feature-card h4 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .feature-list {
            list-style: none;
        }
        
        .feature-list li {
            padding: 5px 0;
            color: #666;
            font-size: 0.9rem;
        }
        
        .feature-list li:before {
            content: "‚úÖ ";
            margin-right: 8px;
        }
        
        .test-results {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .result-item {
            padding: 10px;
            margin: 10px 0;
            border-radius: 6px;
            border-left: 4px solid;
        }
        
        .result-success {
            background: #f0fff4;
            border-color: #48bb78;
        }
        
        .result-error {
            background: #fed7d7;
            border-color: #f56565;
        }
        
        .result-info {
            background: #ebf8ff;
            border-color: #4299e1;
        }
        
        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 2rem;
            }
            .demo-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ WILDBOT Analytics Platform</h1>
            <p>–ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è e-commerce</p>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item" id="frontend-status">
                <div class="status-value" id="frontend-value">‚ùì</div>
                <div class="status-label">Frontend</div>
            </div>
            <div class="status-item" id="backend-status">
                <div class="status-value" id="backend-value">‚ùì</div>
                <div class="status-label">Backend API</div>
            </div>
            <div class="status-item" id="openai-status">
                <div class="status-value" id="openai-value">‚ùì</div>
                <div class="status-label">OpenAI API</div>
            </div>
            <div class="status-item" id="seasonality-status">
                <div class="status-value" id="seasonality-value">‚ùì</div>
                <div class="status-label">–ê–Ω–∞–ª–∏–∑ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏</div>
            </div>
        </div>

        <!-- Main Demo Grid -->
        <div class="demo-grid">
            <!-- Product Analysis -->
            <div class="demo-card">
                <h3>üì¶ –ê–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–æ–≤</h3>
                <p>–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–æ–≤ Wildberries —Å AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏.</p>
                <div class="demo-actions">
                    <a href="http://localhost:3000/product-analysis" target="_blank" class="demo-btn">
                        üöÄ –û—Ç–∫—Ä—ã—Ç—å –∞–Ω–∞–ª–∏–∑
                    </a>
                    <button onclick="testProductAnalysis()" class="demo-btn secondary">
                        üß™ –¢–µ—Å—Ç API
                    </button>
                </div>
            </div>

            <!-- Seasonality Analysis -->
            <div class="demo-card">
                <h3>üìÖ –ê–Ω–∞–ª–∏–∑ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏</h3>
                <p>–ù–æ–≤—ã–π –±–ª–æ–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≥–æ–¥–æ–≤–æ–π –∏ –Ω–µ–¥–µ–ª—å–Ω–æ–π —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏.</p>
                <div class="demo-actions">
                    <a href="http://localhost:3000/seasonality-analysis" target="_blank" class="demo-btn success">
                        üìä –û—Ç–∫—Ä—ã—Ç—å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å
                    </a>
                    <button onclick="testSeasonality()" class="demo-btn secondary">
                        üß™ –¢–µ—Å—Ç API
                    </button>
                </div>
            </div>

            <!-- Dashboard -->
            <div class="demo-card">
                <h3>üìä Dashboard</h3>
                <p>–ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –æ–±–∑–æ—Ä–æ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±—ã—Å—Ç—Ä—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º.</p>
                <div class="demo-actions">
                    <a href="http://localhost:3000/dashboard" target="_blank" class="demo-btn">
                        üì± –û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥
                    </a>
                    <button onclick="testDashboard()" class="demo-btn secondary">
                        üß™ –¢–µ—Å—Ç API
                    </button>
                </div>
            </div>

            <!-- Authentication -->
            <div class="demo-card">
                <h3>üîê –°–∏—Å—Ç–µ–º–∞ –≤—Ö–æ–¥–∞</h3>
                <p>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –¥–µ–º–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π —Ç–æ–∫–µ–Ω–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π.</p>
                <div class="demo-actions">
                    <a href="http://localhost:3000/login" target="_blank" class="demo-btn">
                        üö™ –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
                    </a>
                    <button onclick="testAuth()" class="demo-btn secondary">
                        üß™ –¢–µ—Å—Ç –≤—Ö–æ–¥–∞
                    </button>
                </div>
            </div>

            <!-- Brand Analysis -->
            <div class="demo-card">
                <h3>üè¢ –ê–Ω–∞–ª–∏–∑ –±—Ä–µ–Ω–¥–æ–≤</h3>
                <p>–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –±—Ä–µ–Ω–¥–æ–≤ —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π —Ä–∞–∑–≤–µ–¥–∫–æ–π, –∞–Ω–∞–ª–∏–∑–æ–º —Ç–æ–≤–∞—Ä–Ω–æ–π –ª–∏–Ω–µ–π–∫–∏ –∏ —Ä—ã–Ω–æ—á–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏.</p>
                <div class="demo-actions">
                    <a href="http://localhost:3000/brand-analysis" target="_blank" class="demo-btn">
                        üè™ –ê–Ω–∞–ª–∏–∑ –±—Ä–µ–Ω–¥–æ–≤
                    </a>
                    <button onclick="testBrandAnalysis()" class="demo-btn secondary">
                        üß™ –¢–µ—Å—Ç API
                    </button>
                </div>
            </div>

            <!-- Supply Planning -->
            <div class="demo-card">
                <h3>üöö –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤–æ–∫</h3>
                <p>–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤–æ–∫ —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–ø—Ä–æ—Å–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –æ—Å—Ç–∞—Ç–∫–æ–≤.</p>
                <div class="demo-actions">
                    <a href="http://localhost:3000/supply-planning" target="_blank" class="demo-btn">
                        üìà –ü–ª–∞–Ω –ø–æ—Å—Ç–∞–≤–æ–∫
                    </a>
                    <button onclick="testSupplyPlanning()" class="demo-btn secondary">
                        üß™ –¢–µ—Å—Ç API
                    </button>
                </div>
            </div>
        </div>

        <!-- Features Overview -->
        <div class="features-grid">
            <div class="feature-card">
                <h4>üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã</h4>
                <ul class="feature-list">
                    <li>OpenAI —Ç–æ–∫–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
                    <li>Dashboard –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫</li>
                    <li>–¶–µ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ</li>
                    <li>–£–±—Ä–∞–Ω—ã –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è MPStats</li>
                    <li>AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</li>
                    <li>–ë–ª–æ–∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å—Ç–∞–ª –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ</li>
                </ul>
            </div>

            <div class="feature-card">
                <h4>üìä –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</h4>
                <ul class="feature-list">
                    <li>–ê–Ω–∞–ª–∏–∑ –≥–æ–¥–æ–≤–æ–π —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ (–ª–∏–Ω–µ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏)</li>
                    <li>–ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–µ–ª—å–Ω–æ–π —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ (–±–∞—Ä-–≥—Ä–∞—Ñ–∏–∫–∏)</li>
                    <li>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
                    <li>–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö</li>
                    <li>–§–∏–ª—å—Ç—Ä—ã –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º –∏ –ø–µ—Ä–∏–æ–¥–∞–º</li>
                    <li>–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å–∞–π—Ç—ã</li>
                </ul>
            </div>

            <div class="feature-card">
                <h4>üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h4>
                <ul class="feature-list">
                    <li>FastAPI + React + TypeScript</li>
                    <li>Chart.js –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏</li>
                    <li>JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</li>
                    <li>SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</li>
                    <li>OpenAI GPT-3.5-turbo –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</li>
                    <li>Fallback —Å–∏—Å—Ç–µ–º—ã –¥–∞–Ω–Ω—ã—Ö</li>
                </ul>
            </div>
        </div>

        <!-- Test Results -->
        <div class="test-results" id="test-results" style="display: none;">
            <h3>üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <div id="test-output"></div>
        </div>
    </div>

    <script>
        // Demo credentials
        const DEMO_EMAIL = 'demo@wildbot.com';
        const DEMO_PASSWORD = 'demo123';
        const API_BASE = 'http://localhost:8000';

        // Status checking
        async function checkSystemStatus() {
            updateStatus('frontend', '‚è≥', 'info');
            updateStatus('backend', '‚è≥', 'info');
            updateStatus('openai', '‚è≥', 'info');
            updateStatus('seasonality', '‚è≥', 'info');

            // Check frontend
            try {
                await fetch('http://localhost:3000');
                updateStatus('frontend', '‚úÖ', 'online');
            } catch {
                updateStatus('frontend', '‚ùå', 'offline');
            }

            // Check backend
            try {
                const response = await fetch(`${API_BASE}/docs`);
                if (response.ok) {
                    updateStatus('backend', '‚úÖ', 'online');
                } else {
                    updateStatus('backend', '‚ùå', 'offline');
                }
            } catch {
                updateStatus('backend', '‚ùå', 'offline');
            }

            // Check OpenAI
            try {
                const token = await getAuthToken();
                if (token) {
                    const response = await fetch(`${API_BASE}/analysis/product/recommendations`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify({
                            article: '314308192',
                            product_data: { name: 'Test', price: { current: 1000 } }
                        })
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        if (data.recommendations && data.recommendations.length > 0) {
                            updateStatus('openai', '‚úÖ', 'online');
                        } else {
                            updateStatus('openai', '‚ö†Ô∏è', 'offline');
                        }
                    } else {
                        updateStatus('openai', '‚ùå', 'offline');
                    }
                } else {
                    updateStatus('openai', '‚ùå', 'offline');
                }
            } catch {
                updateStatus('openai', '‚ùå', 'offline');
            }

            // Check seasonality
            try {
                const response = await fetch(`${API_BASE}/seasonality`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        category_path: '–î–ª—è –∂–µ–Ω—â–∏–Ω/–û–¥–µ–∂–¥–∞/–ü–ª–∞—Ç—å—è',
                        period: 'day'
                    })
                });
                
                if (response.ok) {
                    updateStatus('seasonality', '‚úÖ', 'online');
                } else {
                    updateStatus('seasonality', '‚ùå', 'offline');
                }
            } catch {
                updateStatus('seasonality', '‚ùå', 'offline');
            }
        }

        function updateStatus(service, value, status) {
            document.getElementById(`${service}-value`).textContent = value;
            const statusItem = document.getElementById(`${service}-status`);
            statusItem.className = `status-item ${status}`;
        }

        async function getAuthToken() {
            try {
                const response = await fetch(`${API_BASE}/auth/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        email: DEMO_EMAIL,
                        password: DEMO_PASSWORD
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    return data.access_token;
                }
            } catch (error) {
                console.error('Auth error:', error);
            }
            return null;
        }

        function addTestResult(message, type = 'info') {
            const resultsDiv = document.getElementById('test-results');
            const outputDiv = document.getElementById('test-output');
            
            resultsDiv.style.display = 'block';
            
            const resultDiv = document.createElement('div');
            resultDiv.className = `result-item result-${type}`;
            resultDiv.innerHTML = message;
            outputDiv.appendChild(resultDiv);
            
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function clearTestResults() {
            document.getElementById('test-output').innerHTML = '';
            document.getElementById('test-results').style.display = 'none';
        }

        // Test functions
        async function testProductAnalysis() {
            clearTestResults();
            addTestResult('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–æ–≤...', 'info');
            
            try {
                const token = await getAuthToken();
                if (!token) throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏');

                const response = await fetch(`${API_BASE}/analysis/product/recommendations`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        article: '314308192',
                        product_data: {
                            name: '–¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä',
                            price: { current: 2500 },
                            sales: { today: 8 },
                            rating: 4.7,
                            reviews_count: 156
                        }
                    })
                });

                if (!response.ok) throw new Error(`API –æ—à–∏–±–∫–∞: ${response.status}`);

                const data = await response.json();
                if (data.recommendations && data.recommendations.length > 0) {
                    addTestResult(`‚úÖ –ê–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü–æ–ª—É—á–µ–Ω–æ ${data.recommendations.length} —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –æ—Ç OpenAI`, 'success');
                    addTestResult(`üìù –ü—Ä–∏–º–µ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: "${data.recommendations[0].substring(0, 100)}..."`, 'info');
                } else {
                    addTestResult('‚ö†Ô∏è API —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã', 'error');
                }
            } catch (error) {
                addTestResult(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        async function testSeasonality() {
            clearTestResults();
            addTestResult('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–Ω–∞–ª–∏–∑ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏...', 'info');

            try {
                const response = await fetch(`${API_BASE}/seasonality`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        category_path: '–î–ª—è –∂–µ–Ω—â–∏–Ω/–û–¥–µ–∂–¥–∞/–ü–ª–∞—Ç—å—è',
                        period: 'day'
                    })
                });

                if (!response.ok) throw new Error(`API –æ—à–∏–±–∫–∞: ${response.status}`);

                const data = await response.json();
                if (data.annual_data && data.weekly_data) {
                    addTestResult(`‚úÖ –ê–Ω–∞–ª–∏–∑ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! –ì–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫: ${data.annual_data.length}, –Ω–µ–¥–µ–ª—å–Ω—ã—Ö: ${data.weekly_data.length}`, 'success');
                    
                    const holidays = data.annual_data.filter(item => item.holiday_name).length;
                    if (holidays > 0) {
                        addTestResult(`üéÑ –ù–∞–π–¥–µ–Ω–æ ${holidays} –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π —Å –æ—Å–æ–±—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏`, 'info');
                    }
                } else {
                    addTestResult('‚ö†Ô∏è API —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–ø–æ–ª–Ω–∞—è', 'error');
                }
            } catch (error) {
                addTestResult(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        async function testDashboard() {
            clearTestResults();
            addTestResult('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º dashboard...', 'info');

            try {
                const token = await getAuthToken();
                if (!token) throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏');

                const response = await fetch(`${API_BASE}/user/dashboard`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (!response.ok) throw new Error(`API –æ—à–∏–±–∫–∞: ${response.status}`);

                const data = await response.json();
                if (data.user && data.stats) {
                    addTestResult(`‚úÖ Dashboard —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${data.user.email}, –±–∞–ª–∞–Ω—Å: ${data.user.balance}‚ÇΩ`, 'success');
                    addTestResult(`üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ - ${data.stats.products_analyzed}, –±—Ä–µ–Ω–¥–æ–≤ - ${data.stats.brands_analyzed}`, 'info');
                } else {
                    addTestResult('‚ö†Ô∏è API —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –¥–∞–Ω–Ω—ã–µ dashboard –Ω–µ–ø–æ–ª–Ω—ã–µ', 'error');
                }
            } catch (error) {
                addTestResult(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        async function testAuth() {
            clearTestResults();
            addTestResult('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é...', 'info');

            try {
                const response = await fetch(`${API_BASE}/auth/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        email: DEMO_EMAIL,
                        password: DEMO_PASSWORD
                    })
                });

                if (!response.ok) throw new Error(`–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ${response.status}`);

                const data = await response.json();
                if (data.access_token) {
                    addTestResult('‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç! –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ', 'success');
                    addTestResult(`üîë –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ: ${DEMO_EMAIL} / ${DEMO_PASSWORD}`, 'info');

                    // Test auth check
                    const checkResponse = await fetch(`${API_BASE}/auth/check`, {
                        headers: { 'Authorization': `Bearer ${data.access_token}` }
                    });

                    if (checkResponse.ok) {
                        const checkData = await checkResponse.json();
                        if (checkData.authenticated) {
                            addTestResult('‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'success');
                        }
                    }
                } else {
                    addTestResult('‚ö†Ô∏è –õ–æ–≥–∏–Ω –ø—Ä–æ—à–µ–ª, –Ω–æ —Ç–æ–∫–µ–Ω –Ω–µ –ø–æ–ª—É—á–µ–Ω', 'error');
                }
            } catch (error) {
                addTestResult(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        async function testBrandAnalysis() {
            clearTestResults();
            addTestResult('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–Ω–∞–ª–∏–∑ –±—Ä–µ–Ω–¥–æ–≤...', 'info');
            addTestResult('‚ÑπÔ∏è –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–µ—Å—Ç –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å', 'info');
        }

        async function testSupplyPlanning() {
            clearTestResults();
            addTestResult('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤–æ–∫...', 'info');
            addTestResult('‚ÑπÔ∏è –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–µ—Å—Ç –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å', 'info');
        }

        // Initialize page
        window.addEventListener('load', () => {
            addTestResult('üöÄ –°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤...', 'info');
            checkSystemStatus();
        });
    </script>
</body>
</html>